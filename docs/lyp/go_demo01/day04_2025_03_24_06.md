# 接入聊天主界面



## 遇到的问题

如何安全的接入这个聊天主页面？

1. 用户登入的时候调用登入的api（user/login）获取到id和token。
2.  前端获取到含有id与token的json串。前端进行拼接url。
3. 前端拼接的url（/chat/index.shtml?id=1&token=123）
4. 通过 localtion.href 进行跳转操作。



---

如何添加或显示好友？

答：如用户10 添加好友11，往contact表中添加两条记录。userId、dstid

```
/contact/addfriend
```

第一条：owerid = 10，dstobj = 11

第二条：owerid = 11，dstobj = 10

显示全部的好友查接口。接口的参数：userId

```
/contact/loadfriend
```

---

如何添加或显示群？