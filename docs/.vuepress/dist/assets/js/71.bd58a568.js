(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{1919:function(s,t,n){"use strict";n.r(t);var a=n(18),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"ubuntu安装postgre13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu安装postgre13"}},[s._v("#")]),s._v(" ubuntu安装postgre13")]),s._v(" "),t("p",[s._v("社区地址："),t("a",{attrs:{href:"https://help.ubuntu.com/community/PostgreSQL/",target:"_blank",rel:"noopener noreferrer"}},[s._v("PostgreSQL - Community Help Wiki"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"ubuntu的系统环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu的系统环境"}},[s._v("#")]),s._v(" ubuntu的系统环境")]),s._v(" "),t("p",[s._v("Ubuntu 24.04.2 LTS")]),s._v(" "),t("p",[t("img",{attrs:{src:n(332),alt:"image-20251011120904664"}})]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("建议")]),s._v(" "),t("p",[s._v("在选用系统环境版本号时不必要纠结选那个版本。可以和我保持一致。也可以直接用最新稳定版本。但是尽量减少去使用ubuntu的老版本系统。因为这样会花很多时间去解决其它问题。")])]),s._v(" "),t("h2",{attrs:{id:"失败的安装流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#失败的安装流程"}},[s._v("#")]),s._v(" 失败的安装流程")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" ca-certificates gnupg \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("正常情况下输出的日志信息：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("(base) gun@gun:~/桌面$ sudo apt-get install curl ca-certificates gnupg\n[sudo] gun 的密码： \n正在读取软件包列表... 完成\n正在分析软件包的依赖关系树... 完成\n正在读取状态信息... 完成                 \ncurl 已经是最新版 (8.5.0-2ubuntu10.6)。\nca-certificates 已经是最新版 (20240203)。\nca-certificates 已设置为手动安装。\ngnupg 已经是最新版 (2.4.4-2ubuntu17.2)。\ngnupg 已设置为手动安装。\n升级了 0 个软件包，新安装了 0 个软件包，要卸载 0 个软件包，有 76 个软件包未被升级\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://www.postgresql.org/media/keys/ACCC4CF8.asc "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("https://www.postgresql.org/media/keys/ACCC4CF8.asc 这个表示PostgreSQL APT 仓库的密钥地址。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("(base) gun@gun:~/桌面$ curl https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).\n100  4812  100  4812    0     0    906      0  0:00:05  0:00:05 --:--:--  1123\nOK\n(base) gun@gun:~/桌面$ \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("创建文件/etc/apt/sources.list.d/pgdg.list。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'echo \"deb https://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)pgdg main\" > /etc/apt/sources.list.d/pgdg.list'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("$(lsb_release -cs) 表示什么意思？")]),s._v(" "),t("p",[s._v("查看自己创建的文件：")]),s._v(" "),t("p",[t("img",{attrs:{src:n(333),alt:"image-20251011111228715"}})]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" postgresql-13\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"快速安装postgresql-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速安装postgresql-13"}},[s._v("#")]),s._v(" 快速安装PostgreSQL 13")]),s._v(" "),t("p",[s._v("这个官方网站给出的安装流程：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" postgresql-common ca-certificates\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /usr/share/postgresql-common/pgdg/apt.postgresql.org.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("(base) gun@gun:~/桌面$ sudo apt install -y postgresql-common ca-certificates\n正在读取软件包列表... 完成\n正在分析软件包的依赖关系树... 完成\n正在读取状态信息... 完成                 \nca-certificates 已经是最新版 (20240203)。\n将会同时安装下列软件：\n  libcommon-sense-perl libjson-perl libjson-xs-perl libperl5.38t64\n  libtypes-serialiser-perl perl perl-base perl-modules-5.38\n  postgresql-client-common\n建议安装：\n  perl-doc libterm-readline-gnu-perl | libterm-readline-perl-perl\n  libtap-harness-archive-perl\n下列【新】软件包将被安装：\n  libcommon-sense-perl libjson-perl libjson-xs-perl libtypes-serialiser-perl\n  postgresql-client-common postgresql-common\n下列软件包将被升级：\n  libperl5.38t64 perl perl-base perl-modules-5.38\n升级了 4 个软件包，新安装了 6 个软件包，要卸载 0 个软件包，有 371 个软件包未被升级。\n需要下载 395 kB/10.4 MB 的归档。\n解压缩后会消耗 1,332 kB 的额外空间。\n获取:1 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble/main amd64 libjson-perl all 4.10000-1 [81.9 kB]\n获取:2 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble-updates/main amd64 postgresql-client-common all 257build1.1 [36.4 kB]\n获取:3 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble-updates/main amd64 postgresql-common all 257build1.1 [161 kB]\n获取:4 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble/main amd64 libcommon-sense-perl amd64 3.75-3build3 [20.4 kB]\n获取:5 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble/main amd64 libtypes-serialiser-perl all 1.01-1 [11.6 kB]\n获取:6 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble-updates/main amd64 libjson-xs-perl amd64 4.040-0ubuntu0.24.04.1 [83.7 kB]\n已下载 395 kB，耗时 1秒 (345 kB/s)                   \n正在预设定软件包 ...\n(正在读取数据库 ... 系统当前共安装有 193555 个文件和目录。)\n准备解压 .../libperl5.38t64_5.38.2-3.2ubuntu0.2_amd64.deb  ...\n正在解压 libperl5.38t64:amd64 (5.38.2-3.2ubuntu0.2) 并覆盖 (5.38.2-3.2build2.1) \n...\n准备解压 .../perl_5.38.2-3.2ubuntu0.2_amd64.deb  ...\n正在解压 perl (5.38.2-3.2ubuntu0.2) 并覆盖 (5.38.2-3.2build2.1) ...\n准备解压 .../perl-base_5.38.2-3.2ubuntu0.2_amd64.deb  ...\n正在解压 perl-base (5.38.2-3.2ubuntu0.2) 并覆盖 (5.38.2-3.2build2.1) ...\n正在设置 perl-base (5.38.2-3.2ubuntu0.2) ...\n(正在读取数据库 ... 系统当前共安装有 193555 个文件和目录。)\n准备解压 .../0-perl-modules-5.38_5.38.2-3.2ubuntu0.2_all.deb  ...\n正在解压 perl-modules-5.38 (5.38.2-3.2ubuntu0.2) 并覆盖 (5.38.2-3.2build2.1) ...\n正在选中未选择的软件包 libjson-perl。\n准备解压 .../1-libjson-perl_4.10000-1_all.deb  ...\n正在解压 libjson-perl (4.10000-1) ...\n正在选中未选择的软件包 postgresql-client-common。\n准备解压 .../2-postgresql-client-common_257build1.1_all.deb  ...\n正在解压 postgresql-client-common (257build1.1) ...\n正在选中未选择的软件包 postgresql-common。\n准备解压 .../3-postgresql-common_257build1.1_all.deb  ...\n正在添加 通过 postgresql-common 从 /usr/bin/pg_config 到 /usr/bin/pg_config.libp\nq-dev 的转移\n正在解压 postgresql-common (257build1.1) ...\n正在选中未选择的软件包 libcommon-sense-perl:amd64。\n准备解压 .../4-libcommon-sense-perl_3.75-3build3_amd64.deb  ...\n正在解压 libcommon-sense-perl:amd64 (3.75-3build3) ...\n正在选中未选择的软件包 libtypes-serialiser-perl。\n准备解压 .../5-libtypes-serialiser-perl_1.01-1_all.deb  ...\n正在解压 libtypes-serialiser-perl (1.01-1) ...\n正在选中未选择的软件包 libjson-xs-perl。\n准备解压 .../6-libjson-xs-perl_4.040-0ubuntu0.24.04.1_amd64.deb  ...\n正在解压 libjson-xs-perl (4.040-0ubuntu0.24.04.1) ...\n正在设置 perl-modules-5.38 (5.38.2-3.2ubuntu0.2) ...\n正在设置 libperl5.38t64:amd64 (5.38.2-3.2ubuntu0.2) ...\n正在设置 perl (5.38.2-3.2ubuntu0.2) ...\n正在设置 libjson-perl (4.10000-1) ...\n正在设置 postgresql-client-common (257build1.1) ...\n正在设置 libcommon-sense-perl:amd64 (3.75-3build3) ...\n正在设置 postgresql-common (257build1.1) ...\n\nCreating config file /etc/postgresql-common/createcluster.conf with new version\nBuilding PostgreSQL dictionaries from installed myspell/hunspell packages...\n  en_us\nRemoving obsolete dictionary files:\n'/etc/apt/trusted.gpg.d/apt.postgresql.org.gpg' -> '/usr/share/postgresql-common\n/pgdg/apt.postgresql.org.gpg'\nCreated symlink /etc/systemd/system/multi-user.target.wants/postgresql.service →\n /usr/lib/systemd/system/postgresql.service.\n正在设置 libtypes-serialiser-perl (1.01-1) ...\n正在设置 libjson-xs-perl (4.040-0ubuntu0.24.04.1) ...\n正在处理用于 man-db (2.12.0-4build2) 的触发器 ...\n正在处理用于 libc-bin (2.39-0ubuntu8.4) 的触发器 ...\n(base) gun@gun:~/桌面$ \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br")])]),t("p",[s._v("非常明显ca-certificates系统上原来就是有的。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gun@gun:~/桌面$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /usr/share/postgresql-common/pgdg/apt.postgresql.org.sh\n// 此脚本将在APT.PostgreSQL.org上启用PostgreSQL APT存储库你的系统。使用的发行代号将是noble pgdg。\nThis script will "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" the PostgreSQL APT repository on apt.postgresql.org on\nyour system. The distribution codename used will be noble-pgdg.\n\n// 按Enter继续，或按Ctrl-C中止。\nPress Enter to continue, or Ctrl-C to abort.\n\n// 我点击了继续安装"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n// 使用密钥环/usr/share/postgresql-common/pgdg/apt.postgresql.org.pgg\nUsing keyring /usr/share/postgresql-common/pgdg/apt.postgresql.org.gpg\n// 写中"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nWriting /etc/apt/sources.list.d/pgdg.sources "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n已删除 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/etc/apt/sources.list.d/pgdg.list'")]),s._v("\n已删除 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/etc/apt/trusted.gpg.d/apt.postgresql.org.gpg'")]),s._v("\n\nRunning "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n命中:1 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble InRelease              \n命中:4 http://security.ubuntu.com/ubuntu noble-security InRelease              \n命中:2 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble-updates InRelease\n命中:3 http://mirrors.tuna.tsinghua.edu.cn/ubuntu noble-backports InRelease\n获取:5 https://apt.postgresql.org/pub/repos/apt noble-pgdg InRelease "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("107")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n获取:6 https://apt.postgresql.org/pub/repos/apt noble-pgdg/main amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("350")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n已下载 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("456")]),s._v(" kB，耗时 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("秒 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56.1")]),s._v(" kB/s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                                            \n正在读取软件包列表"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成\n\n// 现在，您可以从apt.postgresql.org开始安装软件包。\nYou can now start installing packages from apt.postgresql.org.\n\nHave a "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("look")]),s._v(" at https://wiki.postgresql.org/wiki/Apt "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" information"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("most")]),s._v(" notably the FAQ at https://wiki.postgresql.org/wiki/Apt/FAQ\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gun@gun:~/桌面$ \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("p",[s._v("执行安装指定版本命令：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" postgresql-13\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gun@gun:~/桌面$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" postgresql-13\n正在读取软件包列表"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成\n正在分析软件包的依赖关系树"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成\n正在读取状态信息"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成                 \n将会同时安装下列软件：\n  libpq5 postgresql-client-13\n建议安装：\n  libpq-oauth postgresql-doc-13\n下列【新】软件包将被安装：\n  libpq5 postgresql-13 postgresql-client-13\n升级了 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 个软件包，新安装了 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" 个软件包，要卸载 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 个软件包，有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("373")]),s._v(" 个软件包未被升级。\n需要下载 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.0")]),s._v(" MB 的归档。\n解压缩后会消耗 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55.5")]),s._v(" MB 的额外空间。\n您希望继续执行吗？ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Y/n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" y\n获取:1 https://apt.postgresql.org/pub/repos/apt noble-pgdg/main amd64 libpq5 amd64 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.0")]),s._v("-1.pgdg24.04+3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("248")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n获取:2 https://apt.postgresql.org/pub/repos/apt noble-pgdg/main amd64 postgresql-client-13 amd64 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,536")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n获取:3 https://apt.postgresql.org/pub/repos/apt noble-pgdg/main amd64 postgresql-13 amd64 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.2")]),s._v(" MB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n已下载 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.0")]),s._v(" MB，耗时 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("分 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("秒 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.5")]),s._v(" kB/s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                                      \n正在预设定软件包 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在选中未选择的软件包 libpq5:amd64。\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("正在读取数据库 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 系统当前共安装有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("193776")]),s._v(" 个文件和目录。"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n准备解压 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("./libpq5_18.0-1.pgdg24.04+3_amd64.deb  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在解压 libpq5:amd64 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.0")]),s._v("-1.pgdg24.04+3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在选中未选择的软件包 postgresql-client-13。\n准备解压 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("./postgresql-client-13_13.22-1.pgdg24.04+1_amd64.deb  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在解压 postgresql-client-13 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在选中未选择的软件包 postgresql-13。\n准备解压 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("./postgresql-13_13.22-1.pgdg24.04+1_amd64.deb  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在解压 postgresql-13 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在设置 libpq5:amd64 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.0")]),s._v("-1.pgdg24.04+3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在设置 postgresql-client-13 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nupdate-alternatives: 使用 /usr/share/postgresql/13/man/man1/psql.1.gz 来在自动模\n式中提供 /usr/share/man/man1/psql.1.gz "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("psql.1.gz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n正在设置 postgresql-13 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nCreating new PostgreSQL cluster "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("/main "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n/usr/lib/postgresql/13/bin/initdb "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" /var/lib/postgresql/13/main --auth-local pe\ner --auth-host md5\n属于此数据库系统的文件宿主为用户 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postgres"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n此用户也必须为服务器进程的宿主.\n数据库簇将使用本地化语言 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh_CN.UTF-8"')]),s._v("进行初始化.\n默认的数据库编码已经相应的设置为 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTF8"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ninitdb: could not "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" suitable text search configuration "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" locale "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh_CN.UTF-\n8"')]),s._v("\n缺省的文本搜索配置将会被设置到"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"simple"')]),s._v("\n\n禁止为数据页生成校验和.\n\n修复已存在目录 /var/lib/postgresql/13/main 的权限 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 成功\n正在创建子目录 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 成功\n选择动态共享内存实现 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("posix\n选择默认最大联接数 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max_connections"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n选择默认共享缓冲区大小 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("shared_buffers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 128MB\nselecting default "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" zone "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Asia/Shanghai\n创建配置文件 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 成功\n正在运行自举脚本 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".成功\n正在执行自举后初始化 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".成功\n同步数据到磁盘"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".成功\n\n成功。您现在可以用下面的命令开启数据库服务器：\n\n    pg_ctlcluster "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" main start\n\n正在处理用于 postgresql-common "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("257build1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 的触发器 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nBuilding PostgreSQL dictionaries from installed myspell/hunspell packages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n  en_us\nRemoving obsolete dictionary files:\n正在处理用于 libc-bin "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.39")]),s._v("-0ubuntu8.4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 的触发器 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br")])]),t("p",[s._v("安装过程中出现这样的弹框。我们点击确认就行。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Obsolete major version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n过时的主要版本13\n │ \n PostgreSQL版本13已经过时，但服务器或客户端包仍然安装。\n │ The PostgreSQL version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" is obsolete, but the server or client packages    \n │ are still installed. \n \n 请安装最新的包（postgresql-16和postgresql-client-16），并使用pg_upgradecluster升级现有集群（请参阅手册页）\n Please "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" the latest packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("postgresql-16      \n │ and postgresql-client-16"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" and upgrade the existing  clusters with           \n │ pg_upgradecluster "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("see manpage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".                                            \n │                                                                             \n │ Please be aware that the installation of postgresql-16 will                 \n │ automatically create a default cluster "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("/main.\n \n If you want to upgrade      \n │ the "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("/main cluster, you need to remove the already existing "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" cluster     \n │ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pg_dropcluster "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--stop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" main, see manpage "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" details"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".                   \n\n不再支持旧的服务器和客户端软件包。\n │ The old server and client packages are no longer supported. \n\n升级现有集群后，应删除postgresql-13和postgresql-client-13包。       \n After the existing clusters are upgraded, the postgresql-13 and                       \n │ postgresql-client-13 packages should be removed.                            \n\n请参阅/usr/share/doc/postgresql-common/README。Debian.gz了解详情。   \n │ Please see /usr/share/doc/postgresql-common/README.Debian.gz "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v("            \n │ details.   \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("p",[t("img",{attrs:{src:n(334),alt:"image-20251011115243393"}})]),s._v(" "),t("h2",{attrs:{id:"手动存储库配置安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动存储库配置安装"}},[s._v("#")]),s._v(" 手动存储库配置安装")]),s._v(" "),t("p",[s._v("Manual Repository Configuration")]),s._v(" "),t("p",[s._v("配置流程在官方网站："),t("a",{attrs:{href:"https://wiki.postgresql.org/wiki/Apt",target:"_blank",rel:"noopener noreferrer"}},[s._v("Apt - PostgreSQL 维基 --- Apt - PostgreSQL wiki"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"默认身份登入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认身份登入"}},[s._v("#")]),s._v(" 默认身份登入")]),s._v(" "),t("p",[s._v("安装好postgre后，我们可以使用默认身份进行命令行登入。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" postgres psql postgres\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo -u 指定系统用户名 psql 数据名字")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:n(335),alt:"image-20251011115517082"}})]),s._v(" "),t("p",[s._v("验证安装成功：")]),s._v(" "),t("p",[s._v("版本号是13.22")]),s._v(" "),t("p",[s._v("指定系统用户使用psql登入postgreSQL。没有指定使用那个数据库。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" postgres psql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",[t("li",[t("strong",[t("code",[s._v("sudo")])]),s._v(" - 超级用户权限")])]),s._v(" "),t("ul",[t("li",[s._v("作用：以其他用户身份执行命令")]),s._v(" "),t("li",[s._v('相当于："请用管理员权限运行"')])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[t("code",[s._v("-u postgres")])]),s._v(" - 指定用户")])]),s._v(" "),t("ul",[t("li",[s._v("作用：以 "),t("code",[s._v("postgres")]),s._v(" 用户身份执行")]),s._v(" "),t("li",[s._v("PostgreSQL 在安装时会自动创建专门的 "),t("code",[s._v("postgres")]),s._v(" 系统用户来管理数据库")])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[t("code",[s._v("psql")])]),s._v(" - PostgreSQL 客户端工具")])]),s._v(" "),t("ul",[t("li",[s._v("作用：PostgreSQL 的交互式命令行客户端")]),s._v(" "),t("li",[s._v("功能：可以执行 SQL 命令、管理数据库")])]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[t("strong",[t("code",[s._v("postgres")])]),s._v(" - 数据库名称")])]),s._v(" "),t("ul",[t("li",[s._v("作用：指定要连接的数据库名")]),s._v(" "),t("li",[t("code",[s._v("postgres")]),s._v(" 是 PostgreSQL 安装后创建的默认数据库")])]),s._v(" "),t("h2",{attrs:{id:"解析版本号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解析版本号"}},[s._v("#")]),s._v(" 解析版本号")]),s._v(" "),t("p",[s._v("安装成功后输入select version()就可以查看安装的版本。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# select version();")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("输出的版本信息如下：")]),s._v(" "),t("p",[s._v("PostgreSQL 13.22 (Ubuntu 13.22-1.pgdg24.04+1) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0, 64-bit")]),s._v(" "),t("p",[s._v("上面的信息都是表示什么意思一个都看不懂？详细解释下。")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("PostgreSQL 13.22")]),s._v(" - 数据库主版本")])]),s._v(" "),t("ul",[t("li",[t("strong",[t("code",[s._v("13")])]),s._v(": 主版本号\n"),t("ul",[t("li",[s._v("这是 PostgreSQL 的第13个大版本")]),s._v(" "),t("li",[s._v("每个主版本都有显著的功能改进")])])]),s._v(" "),t("li",[t("strong",[t("code",[s._v(".22")])]),s._v(": 小版本号（补丁版本）\n"),t("ul",[t("li",[s._v("这是第13个大版本的第22次更新")]),s._v(" "),t("li",[s._v("包含安全修复、bug修复，但不引入新功能")]),s._v(" "),t("li",[s._v("✅ "),t("strong",[s._v("说明你的数据库保持得很好，经常更新")])])])])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[s._v("(Ubuntu 13.22-1.pgdg24.04+1)")]),s._v(" - 打包信息")])]),s._v(" "),t("ul",[t("li",[t("strong",[t("code",[s._v("Ubuntu")])]),s._v(": 包管理系统\n"),t("ul",[t("li",[s._v("这是为 Ubuntu 系统特别打包的版本")])])]),s._v(" "),t("li",[t("strong",[t("code",[s._v("13.22-1")])]),s._v(": 包版本号\n"),t("ul",[t("li",[t("code",[s._v("13.22")]),s._v(": PostgreSQL 版本")]),s._v(" "),t("li",[t("code",[s._v("-1")]),s._v(": 包的第一次构建")])])]),s._v(" "),t("li",[t("strong",[t("code",[s._v("pgdg24.04+1")])]),s._v(": 打包来源\n"),t("ul",[t("li",[t("code",[s._v("pgdg")]),s._v(": PostgreSQL Global Development Group（官方开发组）")]),s._v(" "),t("li",[t("code",[s._v("24.04")]),s._v(": 针对 Ubuntu 24.04 系统优化")]),s._v(" "),t("li",[t("code",[s._v("+1")]),s._v(": 包的修订版本")])])])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[s._v("on x86_64-pc-linux-gnu")]),s._v(" - 运行平台")])]),s._v(" "),t("ul",[t("li",[t("strong",[t("code",[s._v("x86_64")])]),s._v(": CPU 架构\n"),t("ul",[t("li",[s._v("64位 Intel/AMD 处理器")]),s._v(" "),t("li",[s._v("支持更多内存和更好性能")])])]),s._v(" "),t("li",[t("strong",[t("code",[s._v("pc")])]),s._v(": 机器类型\n"),t("ul",[t("li",[s._v("个人计算机架构")])])]),s._v(" "),t("li",[t("strong",[t("code",[s._v("linux-gnu")])]),s._v(": 操作系统\n"),t("ul",[t("li",[s._v("GNU/Linux 系统")])])])]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[t("strong",[s._v("compiled by gcc (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0")]),s._v(" - 编译信息")])]),s._v(" "),t("ul",[t("li",[t("strong",[t("code",[s._v("gcc")])]),s._v(": 编译器\n"),t("ul",[t("li",[s._v("GNU Compiler Collection，用于编译 PostgreSQL")])])]),s._v(" "),t("li",[t("strong",[t("code",[s._v("Ubuntu 13.3.0-6ubuntu2~24.04")])]),s._v(": 编译器版本信息\n"),t("ul",[t("li",[s._v("Ubuntu 系统自带的 GCC 13.3.0 编译器")])])]),s._v(" "),t("li",[t("strong",[t("code",[s._v("13.3.0")])]),s._v(": 编译器主版本\n"),t("ul",[t("li",[s._v("GCC 版本 13.3.0")])])])]),s._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[t("strong",[s._v("64-bit")]),s._v(" - 架构位数")])]),s._v(" "),t("ul",[t("li",[t("strong",[t("code",[s._v("64-bit")])]),s._v(": 64位版本\n"),t("ul",[t("li",[s._v("可以处理更大内存（超过4GB）")]),s._v(" "),t("li",[s._v("更好的性能")])])])]),s._v(" "),t("p",[t("strong",[s._v("通俗易懂的解释")])]),s._v(" "),t("p",[s._v("想象成"),t("strong",[s._v("汽车")]),s._v("的规格说明：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("PostgreSQL 13.22 (Ubuntu 13.22-1.pgdg24.04+1) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0, 64-bit\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("🚗 PostgreSQL 13.22")]),s._v(" = 丰田卡罗拉 2023款（车型+年份）")]),s._v(" "),t("li",[t("strong",[s._v("🔧 (Ubuntu...)")]),s._v(" = 由丰田4S店专门为本地道路调校的版本")]),s._v(" "),t("li",[t("strong",[s._v("🏭 x86_64-pc-linux-gnu")]),s._v(" = 在标准汽车生产线上制造")]),s._v(" "),t("li",[t("strong",[s._v("🔩 compiled by gcc...")]),s._v(" = 使用德国博世的专业工具制造")]),s._v(" "),t("li",[t("strong",[s._v("💪 64-bit")]),s._v(" = 2.0L排量发动机，动力强劲")])]),s._v(" "),t("p",[s._v("这对你意味着什么？")]),s._v(" "),t("p",[t("strong",[s._v("好消息：")])]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("版本较新")]),s._v(" - 13.22 是稳定版本")]),s._v(" "),t("li",[t("strong",[s._v("安全更新")]),s._v(" - 小版本22说明安全漏洞已修复")]),s._v(" "),t("li",[t("strong",[s._v("64位性能")]),s._v(" - 可以获得更好的性能")]),s._v(" "),t("li",[t("strong",[s._v("官方支持")]),s._v(" - 来自 PostgreSQL 官方团队的打包")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("注意：")]),s._v(" "),t("p",[s._v("PostgreSQL 13 已经接近生命周期结束，建议考虑升级到更新版本：")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看升级选项")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-cache")]),s._v(" search postgresql-15\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-cache")]),s._v(" search postgresql-16\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("总结")]),s._v(" "),t("p",[s._v("你的 PostgreSQL 安装是：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("版本")]),s._v("：13.22（稳定但较老）")]),s._v(" "),t("li",[t("strong",[s._v("平台")]),s._v("：64位 Ubuntu 系统")]),s._v(" "),t("li",[t("strong",[s._v("来源")]),s._v("：官方维护的包")]),s._v(" "),t("li",[t("strong",[s._v("状态")]),s._v("：安全更新良好，性能正常")])]),s._v(" "),t("p",[s._v("这是一个完全可用的生产环境配置！")])]),s._v(" "),t("h2",{attrs:{id:"检查是否安装postgresql-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查是否安装postgresql-13"}},[s._v("#")]),s._v(" 检查是否安装PostgreSQL 13")]),s._v(" "),t("p",[s._v("话说：安装容易，卸载难。")]),s._v(" "),t("p",[s._v("经过上面的安装成功后的环境。")]),s._v(" "),t("p",[s._v("检查安装包：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有已安装的 PostgreSQL 相关包")]),s._v("\ndpkg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" postgresql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者更精确地查看 postgresql-13 相关包")]),s._v("\ndpkg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" postgresql-13\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看具体的包名")]),s._v("\ndpkg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--list")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" postgres\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("img",{attrs:{src:n(336),alt:"image-20251011124336514"}})]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v("包命")]),s._v(" "),t("th",[s._v("描述")]),s._v(" "),t("th",[s._v("中文描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("libpq5:amd64")]),s._v(" "),t("td",[s._v("PostgreSQL C client library")]),s._v(" "),t("td",[s._v("PostgreSQL C客户端库。")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("postgresql-13")]),s._v(" "),t("td",[s._v("The World's Most Advanced Open Source Relational Database")]),s._v(" "),t("td",[s._v("世界上最先进的开源关系数据库。")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("postgresql-client-13")]),s._v(" "),t("td",[s._v("front-end programs for PostgreSQL 13")]),s._v(" "),t("td",[s._v("PostgreSQL 13的前端程序。")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("postgresql-client-common")]),s._v(" "),t("td",[s._v("manager for multiple PostgreSQL client versions")]),s._v(" "),t("td",[s._v("多个PostgreSQL客户端版本的管理器。")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("postgresql-common")]),s._v(" "),t("td",[s._v("PostgreSQL database-cluster manager")]),s._v(" "),t("td",[s._v("PostgreSQL数据库集群管理器。")])])])]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("libpq5:amd64")]),s._v(" - PostgreSQL 客户端库")])]),s._v(" "),t("p",[t("strong",[s._v("作用")]),s._v("：这是 PostgreSQL 的 C 语言客户端库")]),s._v(" "),t("ul",[t("li",[s._v("📚 "),t("strong",[s._v("功能")]),s._v("：允许其他程序连接到 PostgreSQL 数据库")]),s._v(" "),t("li",[s._v("🔗 "),t("strong",[s._v("依赖关系")]),s._v("：很多应用程序（如 pgAdmin、其他数据库工具）都需要这个库来连接 PostgreSQL")]),s._v(" "),t("li",[s._v("💡 "),t("strong",[s._v("特点")]),s._v("：即使卸载 PostgreSQL 服务器，这个库也可能被其他软件依赖，所以可以保留")])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[s._v("postgresql-13")]),s._v(" - PostgreSQL 13 服务器")])]),s._v(" "),t("p",[t("strong",[s._v("作用")]),s._v("：PostgreSQL 数据库服务器主程序")]),s._v(" "),t("ul",[t("li",[s._v("🗄️ "),t("strong",[s._v("功能")]),s._v("：数据库引擎核心，负责数据存储、查询处理、事务管理等")]),s._v(" "),t("li",[s._v("📁 "),t("strong",[s._v("包含")]),s._v("：数据库服务器进程、存储引擎、查询优化器等")]),s._v(" "),t("li",[s._v("🏠 "),t("strong",[s._v("安装位置")]),s._v("："),t("code",[s._v("/usr/lib/postgresql/13/")])])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[s._v("postgresql-client-13")]),s._v(" - PostgreSQL 13 客户端工具")])]),s._v(" "),t("p",[t("strong",[s._v("作用")]),s._v("：用于连接和管理 PostgreSQL 13 服务器的客户端程序")]),s._v(" "),t("ul",[t("li",[s._v("🔧 "),t("strong",[s._v("包含工具")]),s._v("：\n"),t("ul",[t("li",[t("code",[s._v("psql")]),s._v(" - 命令行客户端")]),s._v(" "),t("li",[t("code",[s._v("pg_dump")]),s._v(" - 数据库备份工具")]),s._v(" "),t("li",[t("code",[s._v("pg_restore")]),s._v(" - 数据库恢复工具")]),s._v(" "),t("li",[t("code",[s._v("createdb")]),s._v(" / "),t("code",[s._v("dropdb")]),s._v(" - 数据库创建/删除工具")])])]),s._v(" "),t("li",[s._v("💻 "),t("strong",[s._v("用途")]),s._v("：在本地或远程管理 PostgreSQL 数据库")])]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[t("strong",[s._v("postgresql-client-common")]),s._v(" - 客户端通用管理工具")])]),s._v(" "),t("p",[t("strong",[s._v("作用")]),s._v("：管理多个 PostgreSQL 客户端版本")]),s._v(" "),t("ul",[t("li",[s._v("🔄 "),t("strong",[s._v("功能")]),s._v("：\n"),t("ul",[t("li",[s._v("管理不同版本的客户端工具")]),s._v(" "),t("li",[s._v("处理客户端版本的切换")]),s._v(" "),t("li",[s._v("提供版本无关的客户端命令")])])]),s._v(" "),t("li",[s._v("🌐 "),t("strong",[s._v("特点")]),s._v("：即使安装了多个 PostgreSQL 版本，这个包也能协调它们")])]),s._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[t("strong",[s._v("postgresql-common")]),s._v(" - PostgreSQL 通用管理工具")])]),s._v(" "),t("p",[t("strong",[s._v("作用")]),s._v("：管理多个 PostgreSQL 服务器实例")]),s._v(" "),t("ul",[t("li",[s._v("🛠️ "),t("strong",[s._v("功能")]),s._v("：\n"),t("ul",[t("li",[s._v("管理数据库集群（cluster）")]),s._v(" "),t("li",[s._v("处理多版本 PostgreSQL 共存")]),s._v(" "),t("li",[s._v("提供 "),t("code",[s._v("pg_lsclusters")]),s._v("、"),t("code",[s._v("pg_createcluster")]),s._v(" 等管理命令")]),s._v(" "),t("li",[s._v("管理服务启动/停止脚本")])])]),s._v(" "),t("li",[s._v("📊 "),t("strong",[s._v("包含命令")]),s._v("：\n"),t("ul",[t("li",[t("code",[s._v("pg_lsclusters")]),s._v(" - 列出所有数据库集群")]),s._v(" "),t("li",[t("code",[s._v("pg_createcluster")]),s._v(" - 创建新集群")]),s._v(" "),t("li",[t("code",[s._v("pg_dropcluster")]),s._v(" - 删除集群")]),s._v(" "),t("li",[t("code",[s._v("pg_ctlcluster")]),s._v(" - 控制集群状态")])])])]),s._v(" "),t("p",[s._v("查看服务是否在运行：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("systemctl status postgresql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:n(337),alt:"image-20251011123725657"}})]),s._v(" "),t("h2",{attrs:{id:"完全卸载postgresql-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完全卸载postgresql-13"}},[s._v("#")]),s._v(" 完全卸载PostgreSQL 13")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载服务器和客户端")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--purge")]),s._v(" postgresql-13 postgresql-client-13\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但保留通用工具（可能被其他软件依赖）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--purge")]),s._v(" postgresql-13 postgresql-client-13\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果你想保留客户端工具连接其他服务器，只卸载服务器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--purge")]),s._v(" postgresql-13\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 完全清理（包括通用工具）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--purge")]),s._v(" postgresql-13 postgresql-client-13 postgresql-client-common postgresql-common\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("libpq5 通常保留，因为其他软件可能依赖它")]),s._v(" "),t("p",[s._v("卸载执行日志：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gun@gun:~/桌面$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--purge")]),s._v(" postgresql-13 postgresql-client-13 postgresql-client-common postgresql-common\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" gun 的密码： \n正在读取软件包列表"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成\n正在分析软件包的依赖关系树"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成\n正在读取状态信息"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 完成                 \n下列软件包是自动安装的并且现在不需要了：\n  libcommon-sense-perl libjson-perl libjson-xs-perl libpq5\n  libtypes-serialiser-perl\n使用"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sudo apt autoremove'")]),s._v("来卸载它"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("它们"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("。\n下列软件包将被【卸载】：\n  postgresql-13* postgresql-client-13* postgresql-client-common*\n  postgresql-common*\n升级了 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 个软件包，新安装了 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 个软件包，要卸载 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" 个软件包，有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("371")]),s._v(" 个软件包未被升级。\n解压缩后将会空出 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55.1")]),s._v(" MB 的空间。\n您希望继续执行吗？ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Y/n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" y\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("正在读取数据库 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 系统当前共安装有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("195628")]),s._v(" 个文件和目录。"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n正在卸载 postgresql-13 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nupdate-alternatives: 警告: 链接组 psql.1.gz 已损坏，故强制重新安装候选项 /usr/share/postgresql/13/man/man1/psql.1.gz\n正在卸载 postgresql-client-13 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在卸载 postgresql-common "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("257build1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在删除 通过 postgresql-common 从 /usr/bin/pg_config 到 /usr/bin/pg_config.libpq-dev 的转移\n正在卸载 postgresql-client-common "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("257build1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在处理用于 man-db "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.12")]),s._v(".0-4build2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 的触发器 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("正在读取数据库 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". 系统当前共安装有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("193641")]),s._v(" 个文件和目录。"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n正在清除 postgresql-client-common "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("257build1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 的配置文件 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n正在清除 postgresql-common "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("257build1.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 的配置文件 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\ndpkg: 警告: 卸载 postgresql-common 时，目录 /var/log/postgresql 非空，因而不会删除该目录\ndpkg: 警告: 卸载 postgresql-common 时，目录 /var/lib/postgresql 非空，因而不会删除该目录\ndpkg: 警告: 卸载 postgresql-common 时，目录 /etc/postgresql 非空，因而不会删除该目录\n正在清除 postgresql-13 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 的配置文件 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nDropping cluster main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gun@gun:~/桌面$ \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br")])]),t("p",[s._v("卸载完成后再次登入无效：")]),s._v(" "),t("p",[t("img",{attrs:{src:n(338),alt:"image-20251011125234773"}})]),s._v(" "),t("h2",{attrs:{id:"创建新用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建新用户"}},[s._v("#")]),s._v(" 创建新用户")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CREATE USER anthony SUPERUSER;")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("将您看到的 anthony 替换为您的 Ubuntu 用户名。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建新用户的语法格式。")]),s._v("\nCREATE "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" 指定用户名字 SUPERUSER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("使用新创建的用户进行登入。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("psql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" gun "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" postgres\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令语法格式")]),s._v("\npsql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" 自己新创建的用户名 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" postgres\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个命令是错误的")]),s._v("\npsql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" postgres "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" postgres\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("显示当前登入的是那个用户？")]),s._v(" "),t("p",[s._v("SELECT current_user;")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELECT current_user;")]),s._v("\n current_user \n--------------\n gun\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 行记录"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"为用户设置密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为用户设置密码"}},[s._v("#")]),s._v(" 为用户设置密码")]),s._v(" "),t("p",[s._v("创建用户后我们要为用户设置一个密码。默认情况下新创建的用户是没有密码的。")]),s._v(" "),t("p",[s._v("登入用户命令行后输入如下名字进行修改密码。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \\password postgres")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("实战操作演示：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gun@gun:~/桌面$ psql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" gun "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" postgres\npsql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\n输入 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(" 来获取帮助信息.\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定那个用户要修改密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  \\password gun")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gun是用户的名字")]),s._v("\nEnter new password "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gun"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再次确认用户设置的密码。")]),s._v("\n再次输入：\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个设置密码成功。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("登入时问ai的问题。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gun@gun:~/桌面$ psql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" gun "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" postgres\npsql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\n输入 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(" 来获取帮助信息.\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定那个用户要修改密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  \\password gun")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gun是用户的名字")]),s._v("\nEnter new password "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gun"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再次确认用户设置的密码。")]),s._v("\n再次输入：\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个设置密码成功。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n\n为什么密码设置成功使用psql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" gun "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" postgres登入不要输入密码为什么呢？\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("当系统用户名和数据库用户名相同时，允许无密码登录。这句话是正确的吗？")]),s._v(" "),t("p",[s._v("验证思路：")]),s._v(" "),t("ul",[t("li",[s._v("使用gun数据库用户登入psql，创建一个用户名为tunan的数据库用户。【注意：tunan必须是系统用户才能登入。】")]),s._v(" "),t("li",[s._v("登入tunan设置tunan的密码为tunan。【注意：必须先创建系统用户才可以登入。】")]),s._v(" "),t("li",[s._v("然后进行登入。")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gun@gun:~/桌面$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" tunan psql postgres\ncould not change directory to "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/gun/桌面"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 权限不够\npsql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\nType "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help.\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELECT current_user;")]),s._v("\n current_user \n--------------\n tunan\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" row"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("ubuntu怎么创建一个名字为tunan的用户你呢？")]),s._v(" "),t("p",[t("strong",[s._v("总结：")])]),s._v(" "),t("p",[s._v("只有当前系统的用户是tunan才可以使用psql命令去登入。")]),s._v(" "),t("p",[s._v("如果当前用户是gun时，使用psql登入tunan用户是无法进行登入的。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("tunan@gun:/home/gun/桌面$ psql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" tunan "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" postgres\ncould not change directory to "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/gun/桌面"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 权限不够\npsql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.22")]),s._v("-1.pgdg24.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\nType "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help.\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"重新启动postgresql服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重新启动postgresql服务"}},[s._v("#")]),s._v(" 重新启动postgresql服务")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart postgresql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports},332:function(s,t,n){s.exports=n.p+"assets/img/image-20251011120904664.dc0d769a.png"},333:function(s,t,n){s.exports=n.p+"assets/img/image-20251011111228715.29fcd7a4.png"},334:function(s,t,n){s.exports=n.p+"assets/img/image-20251011115243393.7ea76972.png"},335:function(s,t,n){s.exports=n.p+"assets/img/image-20251011115517082.20585e4d.png"},336:function(s,t,n){s.exports=n.p+"assets/img/image-20251011124336514.41ae7d95.png"},337:function(s,t,n){s.exports=n.p+"assets/img/image-20251011123725657.c1852bed.png"},338:function(s,t,n){s.exports=n.p+"assets/img/image-20251011125234773.62bfe521.png"}}]);