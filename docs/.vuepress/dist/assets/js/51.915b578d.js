(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1633:function(s,a,t){"use strict";t.r(a);var n=t(25),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"hello-world"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hello-world"}},[s._v("#")]),s._v(" hello world")]),s._v(" "),a("p",[s._v("梦开始的地方......")]),s._v(" "),a("p",[s._v("我们已经安装好了 Rust，接着编写第⼀个 Rust 程序。按照传统，在学习⼀⻔新语⾔ 时都会编写⼀个输出“Hello, world!”（你好，世界）的简单程序。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("假定你已经熟悉基本的命令⾏。Rust 本⾝对编辑器、⼯具或代码存 放的位置都没有特殊要求。所以要是你更喜欢 IDE ⽽不是命令⾏的话，可以随 意选⽤你喜爱的 IDE。⽬前很多 IDE 都提供了⼀定程度的 Rust ⽀持。有关详细 信息，请查看 IDE 的⽂档。最近，Rust 团队⼀直致⼒于提供出⾊的 IDE ⽀持， 并且在这⽅⾯取得了迅速的进步！")])]),s._v(" "),a("h2",{attrs:{id:"创建项目目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目目录"}},[s._v("#")]),s._v(" 创建项目目录")]),s._v(" "),a("p",[s._v("创建⼀个存放 Rust  代码的⽬录。 Rust  不关⼼代码存放的位置，但是对于本书 中的练习和项⽬，我们建议在操作系统的主⽬录（ home ，在 Windows  下即⽤⼾⽬ 录）中创建⼀个 projects  ⽬录，并保存你的全部项⽬。")]),s._v(" "),a("p",[s._v("打开终端")]),s._v(" "),a("p",[s._v("输⼊下⾯命令来创建 projects  ⽬录，以在此⽬录⾥⾯创建 “Hello, world!” 项目目录。")]),s._v(" "),a("p",[s._v("对于 Linux 、 macOS  和 Windows  的 PowerShell ，请输⼊以下命令：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/projects\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/projects\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" hello_world\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hello_world\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("对于 Windows CMD ，输⼊以下内容：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%USERPROFILE%\\projects"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%USERPROFILE%\\projects"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" hello_world\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hello_world\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("在windows上")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(754),alt:"image-20240516202014015"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(755),alt:"image-20240516202150259"}})]),s._v(" "),a("ul",[a("li",[s._v("进入项目的目录。")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(756),alt:"image-20240516202247595"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(757),alt:"image-20240516202334874"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(758),alt:"image-20240516202411714"}})]),s._v(" "),a("h2",{attrs:{id:"编写和运行rust程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编写和运行rust程序"}},[s._v("#")]),s._v(" 编写和运行Rust程序")]),s._v(" "),a("ul",[a("li",[s._v("创建一个源文件并命名为 main.rs。")]),s._v(" "),a("li",[s._v("打开刚创建好的 main.rs 文件，输入示例 1-1 中的代码。")])]),s._v(" "),a("p",[s._v("Rust 文件通常以.rs 扩展名结尾。如果文件名中使用了多个单词，请使用下划线将它们隔开。例如，命名为hello world.rs,而不是helloworld.rs。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(759),alt:"image-20240516203353049"}})]),s._v(" "),a("p",[s._v("文件名:main.rs")]),s._v(" "),a("div",{staticClass:"language-rust line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-rust"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("println!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello, world!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("示例1-1：打印hello world！")]),s._v(" "),a("p",[a("img",{attrs:{src:t(760),alt:"image-20240516203612060"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("rustc main.rs\n./main\nHello, world"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("在 Windows  上，输⼊ .\\main.exe  来代替 ./main :")]),s._v(" "),a("p",[a("img",{attrs:{src:t(761),alt:"image-20240516203637130"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("rustc main.rs\n."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("main.exe\nHello, world"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"rust程序剖析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rust程序剖析"}},[s._v("#")]),s._v(" Rust程序剖析")]),s._v(" "),a("p",[s._v("main 函数(也称为主函数)很特殊:它始终是每个可这几行定义了 Rust 的函数。一个代码。第一行声明一个名为 main 的函数，不带参数执行 Rust 程序中运行的第也没有返回值。如果有参数，那么它们的名字会放到括号内，它们将放在括号()内。")]),s._v(" "),a("p",[s._v("函数主体用大括号 {}括起来。Rust需要函数体的所有内容都被括号包围起来。一种好的代码风格是将左大括号放在函数声明的同一行，且之间带有个空格。")]),s._v(" "),a("p",[s._v("main  函数内部是以下代码：")]),s._v(" "),a("div",{staticClass:"language-rust line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-rust"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("println!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello, world!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("首先， Rust  风格的缩进使⽤ 4  个空格，而不是制表符。")]),s._v(" "),a("p",[s._v("其次， println!  调⽤ Rust  宏。如果改为调⽤函数，则应该将其输⼊为 println （不含 ! ）。")]),s._v(" "),a("p",[s._v("什么是宏？现在只需要知道，当看到 ⼀个 ! ，则意味着调⽤的是宏⽽不是普通的函数。")]),s._v(" "),a("h2",{attrs:{id:"编译和运行是独立的步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译和运行是独立的步骤"}},[s._v("#")]),s._v(" 编译和运行是独立的步骤")]),s._v(" "),a("p",[s._v("刚才我们运行一个新创建的程序。现在我们将分解这个过程，并检查每个步骤。")]),s._v(" "),a("p",[s._v("如果有C或C++语言基础，你会注意到这点和 gcc或 clang 类似。编译成功后Rust 就会输出一个二进制可执行文件。")]),s._v(" "),a("p",[s._v("在 Linux、macOs或Windows 的 PowerShell 中，可通过输入 ls 命令来查看可执行文件。在 Linux和 macOs 中，你将看到两个文件。使用Windows的PowerShell，你将看到与使用CMD 相同的三个文件。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nmain main.rs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("对于 Windows 的 CMD，可输入以下内容:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("dir /B%"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" the /B option says to only show the "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" names "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%main.exemain.pdb\nmain.rs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("这显示了带有.rs 扩展名的源代码文件，可执行文件(在Windows 上是 main.exe,在所有其他平台上是 main)，以及在使用 Windows 时包含一个带有.pdb 扩展名的调试信息的文件。在这里，运行main 或main.exe 文件，如下所示:")]),s._v(" "),a("p",[a("img",{attrs:{src:t(762),alt:"image-20240516204830580"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ ./main # or .\\main.exe on Windows\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果 main.rs  是 “Hello, world!”  程序，这将会打印 Hello, world!  到终端上。")]),s._v(" "),a("p",[s._v("如果你只熟悉动态语⾔，如 Ruby 、 Python  或 JavaScript ，你很可能不习惯分多个步 骤来编译和运⾏程序的⽅式。 Rust  是⼀⻔ 预编译 (ahead-of-time compiled) 语⾔，这 意味着你可以编译⼀个程序，将编译后的可执⾏⽂件给别⼈，即使他们没有安装 Rust  也可以运⾏程序。如果你为其他⼈提供 .rb 、 .py  或 .js  ⽂件，那么对⽅也需要分 别安装对应 Ruby 、 Python  或 JavaScript  的语⾔⽀持环境。但是在这些语⾔中，只 需要⼀条命令来编译和运⾏程序。⼀切都是语⾔设计权衡的结果。")]),s._v(" "),a("p",[s._v("使⽤ rustc  编译对简单的程序可以轻松胜任，但随着项⽬的增⻓，你将会想要管理 项⽬中所有相关内容，并想让其他⽤⼾和项⽬能够容易共享你的代码。接下来，我们 将引⼊ Cargo  ⼯具【同java里面的maven工具、前端的npm工具、gradle构建工具】，这将帮助你学会编写真实开发环境的 Rust  程序。")])])}),[],!1,null,null,null);a.default=e.exports},754:function(s,a,t){s.exports=t.p+"assets/img/image-20240516202014015.fbd48c66.png"},755:function(s,a,t){s.exports=t.p+"assets/img/image-20240516202150259.4593d710.png"},756:function(s,a,t){s.exports=t.p+"assets/img/image-20240516202247595.29da8220.png"},757:function(s,a,t){s.exports=t.p+"assets/img/image-20240516202334874.624f74b2.png"},758:function(s,a,t){s.exports=t.p+"assets/img/image-20240516202411714.b862fcf9.png"},759:function(s,a,t){s.exports=t.p+"assets/img/image-20240516203353049.592bafd9.png"},760:function(s,a,t){s.exports=t.p+"assets/img/image-20240516203612060.76c7bf6e.png"},761:function(s,a,t){s.exports=t.p+"assets/img/image-20240516203637130.5b945415.png"},762:function(s,a,t){s.exports=t.p+"assets/img/image-20240516204830580.6b78c176.png"}}]);