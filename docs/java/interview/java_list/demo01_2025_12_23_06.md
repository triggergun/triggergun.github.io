# AbstractList<E>的接口分析

![image-20251223192325568](demo01_2025_12_23_06.assets/image-20251223192325568.png)

主要实现了AbstractCollection<E>接口的一些抽象方法。

实现了 List<E>接口的一些抽象定义的方法。

还有部分抽象方法在ArrayList<E>类中实现。

## 接口定义

```java
public abstract class AbstractList<E> extends AbstractCollection<E> implements List<E> {

}
```





## 抽象方法的实现

AbstractList<E>类定义的add方法。

```java
    public void add(int index, E element) {
        // 不支持的操作异常
        throw new UnsupportedOperationException();
    }
```

ArrayList<E>类中的实现。

```java
    public void add(int index, E element) {
        rangeCheckForAdd(index);

        ensureCapacityInternal(size + 1);  // Increments modCount!!
        System.arraycopy(elementData, index, elementData, index + 1,
                         size - index);
        elementData[index] = element;
        size++;
    }
```

为什么抛出异常的代码写在父类中？这个抛出异常的代码何时执行呢？

```java
// 为什么在父类中抛出异常？add是实现list接口来的。
// 答：有些list子类可以不需要add这个方法操作。当不需要这个操作的子类对象进行操作会抛出异常
```

