{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{1270:function(a,s,t){a.exports=t.p+\"assets/img/image-20250226150659895.507cb3a3.png\"},1271:function(a,s,t){a.exports=t.p+\"assets/img/image-20250226152057948.a39f6e7c.png\"},1272:function(a,s,t){a.exports=t.p+\"assets/img/image-20250226153826282.2797bf32.png\"},1273:function(a,s,t){a.exports=t.p+\"assets/img/image-20250226171239131.e2696f51.png\"},1274:function(a,s,t){a.exports=t.p+\"assets/img/image-20250226171501208.73fbcf37.png\"},1275:function(a,s,t){a.exports=t.p+\"assets/img/image-20250226171924949.43ee3806.png\"},1610:function(a,s,t){\"use strict\";t.r(s);var e=t(14),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"安装并初始化gitlab\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装并初始化gitlab\"}},[a._v(\"#\")]),a._v(\" 安装并初始化Gitlab\")]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:t(1270),alt:\"image-20250226150659895\"}})]),a._v(\" \"),s(\"h2\",{attrs:{id:\"开启macvlan\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#开启macvlan\"}},[a._v(\"#\")]),a._v(\" 开启Macvlan\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"docker\")]),a._v(\" network create \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-d\")]),a._v(\" macvlan \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--subnet\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"192.168\")]),a._v(\".5.0/24 \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n  --ip-range\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"192.168\")]),a._v(\".5.0/24 \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--gateway\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"192.168\")]),a._v(\".5.1 \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-o\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[a._v(\"parent\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\"ens33 \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n  macvlan5\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\")])]),s(\"p\",[a._v(\"192.168.5.0是网络号。（也叫网段）\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"下载gitlab容器\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#下载gitlab容器\"}},[a._v(\"#\")]),a._v(\" 下载GitLab容器\")]),a._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",[a._v(\"容器的名字\")]),a._v(\" \"),s(\"th\",[a._v(\"ip地址分配\")])])]),a._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",[a._v(\"GitLab\")]),a._v(\" \"),s(\"td\",[a._v(\"192.168.5.240\")])])])]),a._v(\" \"),s(\"p\",[a._v(\"删除在主机上有关gitlab的目录。（起到初始化作用。）\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"rm\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-rf\")]),a._v(\" /etc/gitlab\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"rm\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-rf\")]),a._v(\" /var/log/gitlab\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"rm\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-rf\")]),a._v(\" /var/opt/gitlab\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\")])]),s(\"p\",[a._v(\"删除gitlab的容器\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"docker\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"rm\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-f\")]),a._v(\" gitlab\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"p\",[a._v(\"创建gitlab的目录\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"mkdir\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-p\")]),a._v(\" /etc/gitlab\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"mkdir\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-p\")]),a._v(\" /var/log/gitlab\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"mkdir\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-p\")]),a._v(\" /var/opt/gitlab\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\")])]),s(\"p\",[a._v(\"给目录分配权限。\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"chmod\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-R\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"755\")]),a._v(\" /etc/gitlab\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"chmod\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-R\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"755\")]),a._v(\" /var/log/gitlab\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"chmod\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-R\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"755\")]),a._v(\" /var/opt/gitlab\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\")])]),s(\"p\",[s(\"img\",{attrs:{src:t(1271),alt:\"image-20250226152057948\"}})]),a._v(\" \"),s(\"p\",[a._v(\"docker创建容器的命令：\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"docker\")]),a._v(\" run \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--name\")]),a._v(\" gitlab \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--hostname\")]),a._v(\" gitlab.example.com \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--restart\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\"always \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--network\")]),a._v(\" macvlan5  \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--ip\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"192.168\")]),a._v(\".5.240 \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-v\")]),a._v(\" /etc/gitlab:/etc/gitlab \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-v\")]),a._v(\" /var/log/gitlab:/var/log/gitlab \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-v\")]),a._v(\" /var/opt/gitlab:/var/opt/gitlab \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"\\\\\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-d\")]),a._v(\" gitlab/gitlab-ce\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),s(\"br\")])]),s(\"p\",[a._v(\"配置好下载进行的镜像源后的执行效果：\")]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:t(1272),alt:\"image-20250226153826282\"}})]),a._v(\" \"),s(\"p\",[a._v(\"查看日志命令\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"docker\")]),a._v(\" logs \"),s(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-f\")]),a._v(\" gitlab\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"修改gitlab初始化密码\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#修改gitlab初始化密码\"}},[a._v(\"#\")]),a._v(\" 修改gitlab初始化密码\")]),a._v(\" \"),s(\"p\",[a._v(\"获取初始化密码\")]),a._v(\" \"),s(\"div\",{staticClass:\"language- line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"sudo docker exec -it gitlab grep 'Password:' /etc/gitlab/initial_root_password\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"p\",[a._v(\"执行上面命令效果如下：\")]),a._v(\" \"),s(\"div\",{staticClass:\"language- line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"[root@192 /]# sudo docker exec -it gitlab grep 'Password:' /etc/gitlab/initial_root_password\\nPassword: NwE3H6qsRq3nKFK8iNG0GmoTfWrPM4q1K/LijQ75w28=\\n[root@192 /]# \\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\")])]),s(\"p\",[a._v(\"用户默认是：root\")]),a._v(\" \"),s(\"p\",[a._v(\"密码：NwE3H6qsRq3nKFK8iNG0GmoTfWrPM4q1K/LijQ75w28=\")]),a._v(\" \"),s(\"p\",[a._v(\"192.168.5.240\")]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:t(1273),alt:\"image-20250226171239131\"}})]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:t(1274),alt:\"image-20250226171501208\"}})]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:t(1275),alt:\"image-20250226171924949\"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);","extractedComments":[]}