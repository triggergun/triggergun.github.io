{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[415],{2181:function(s,t,a){\"use strict\";a.r(t);var e=a(18),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"ifdef基本语法\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ifdef基本语法\"}},[s._v(\"#\")]),s._v(\" \"),t(\"code\",[s._v(\"#ifdef\")]),s._v(\"基本语法\")]),s._v(\" \"),t(\"p\",[t(\"code\",[s._v(\"#ifdef\")]),s._v(\"后面能写什么？\")]),s._v(\" \"),t(\"p\",[s._v(\"ai回答：\"),t(\"code\",[s._v(\"#ifdef\")]),s._v(\" 后面只能写 \"),t(\"strong\",[s._v(\"一个宏名称（标识符）\")]),s._v(\"，不能写表达式或其他内容。\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"_1-基本语法\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-基本语法\"}},[s._v(\"#\")]),s._v(\" 1. \"),t(\"strong\",[s._v(\"基本语法\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-c line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"宏名称\")])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 代码块\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"_2-能写什么\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-能写什么\"}},[s._v(\"#\")]),s._v(\" 2. \"),t(\"strong\",[s._v(\"能写什么？\")])]),s._v(\" \"),t(\"p\",[s._v(\"✅ \"),t(\"strong\",[s._v(\"正确的写法\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-c line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 1. 简单的宏名\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"DEBUG\")])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"printf\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"调试模式\\\\n\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 2. 编译器预定义的宏\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"__linux__\")])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// Linux专用代码\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 3. 自己定义的宏\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"define\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token macro-name\"}},[s._v(\"FEATURE_X\")])]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"FEATURE_X\")])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 启用功能X\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 4. 带下划线或数字的宏名\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"_VERSION_2_0\")])]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"MAX_SIZE_128\")])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),t(\"br\")])]),t(\"p\",[s._v(\"❌ \"),t(\"strong\",[s._v(\"错误的写法\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-c line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 错误1：不能有运算符\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"DEBUG \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\"      \")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ❌ 错误！\")])]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"DEBUG\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"         \")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ❌ 错误！\")])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 错误2：不能有逻辑运算\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"DEBUG \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" TEST   \")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ❌ 错误！\")])]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"!\")]),s._v(\"RELEASE        \")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ❌ 错误！\")])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 错误3：不能是表达式\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"sizeof\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"int\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"     \")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ❌ 错误！\")])]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3.14\")]),s._v(\"           \")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ❌ 错误！\")])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"_3-如果需要复杂条件怎么办\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-如果需要复杂条件怎么办\"}},[s._v(\"#\")]),s._v(\" 3. \"),t(\"strong\",[s._v(\"如果需要复杂条件怎么办？\")])]),s._v(\" \"),t(\"p\",[s._v(\"使用 \"),t(\"code\",[s._v(\"#if\")]),s._v(\" 而不是 \"),t(\"code\",[s._v(\"#ifdef\")]),s._v(\"：\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-c line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ✅ 正确：使用 #if 处理复杂条件\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"if\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"defined\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"DEBUG\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"VERSION \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")])])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// DEBUG已定义 且 VERSION大于2\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ✅ 正确：使用 #if defined()\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"if\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"defined\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"WIN32\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"||\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"defined\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"WIN64\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")])])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// Windows平台\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ✅ 正确：检查宏的值\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"if\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"VERSION \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2024\")])])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 版本为2024\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"_4-ifdef-的等价写法\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-ifdef-的等价写法\"}},[s._v(\"#\")]),s._v(\" 4. \"),t(\"strong\",[t(\"code\",[s._v(\"#ifdef\")]),s._v(\" 的等价写法\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-c line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 这两行完全等价\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"MACRO\")])]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"if\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"defined\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"MACRO\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")])])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 这两行完全等价\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifndef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"MACRO  \")])]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"if\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"!\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"defined\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"MACRO\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")])])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"_5-实际使用案例对比\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-实际使用案例对比\"}},[s._v(\"#\")]),s._v(\" 5. \"),t(\"strong\",[s._v(\"实际使用案例对比\")])]),s._v(\" \"),t(\"p\",[s._v(\"案例1：只检查是否定义（用 \"),t(\"code\",[s._v(\"#ifdef\")]),s._v(\"）\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-c line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 简单判断：是否定义了宏\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"ENABLE_LOG\")])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"log_message\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"程序启动\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])]),t(\"p\",[s._v(\"案例2：检查定义且值满足条件（用 \"),t(\"code\",[s._v(\"#if\")]),s._v(\"）\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-c line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 复杂判断：宏的值要大于10\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"if\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"defined\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"MAX_USERS\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"MAX_USERS \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"10\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")])])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"printf\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"支持多用户\\\\n\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])]),t(\"p\",[s._v(\"案例3：多个条件组合\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-c line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 错误：不能用 #ifdef\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"ifdef\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[s._v(\"LINUX \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" DEBUG  \")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// ❌ 语法错误！\")])]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 正确：用 #if defined()\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"if\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token expression\"}},[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"defined\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"LINUX\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"defined\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"DEBUG\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")])])]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// Linux且调试模式\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[t(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[s._v(\"#\")]),t(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[s._v(\"endif\")])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"_6-常见问题\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-常见问题\"}},[s._v(\"#\")]),s._v(\" 6. \"),t(\"strong\",[s._v(\"常见问题\")])]),s._v(\" \"),t(\"p\",[t(\"strong\",[s._v(\"问：\"),t(\"code\",[s._v(\"#ifdef 1\")]),s._v(\" 可以吗？\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v(\"#ifdef 1  // ❌ 错误！1不是有效的标识符\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[t(\"strong\",[s._v(\"正确做法\")]),s._v(\"：\")]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v(\"#if 1      // ✅ 正确：永远为真\\n#define ENABLE_FEATURE 1\\n#ifdef ENABLE_FEATURE  // ✅ 正确\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\")])]),t(\"p\",[t(\"strong\",[s._v(\"问：\"),t(\"code\",[s._v('#ifdef \"LINUX\"')]),s._v(\" 可以吗？\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v('#ifdef \"LINUX\"  // ❌ 错误！字符串不是标识符\\n')])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[t(\"strong\",[s._v(\"正确做法\")]),s._v(\"：\")]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v(\"#ifdef __linux__  // ✅ 正确：编译器预定义的宏\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"_7-总结表\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-总结表\"}},[s._v(\"#\")]),s._v(\" 7. \"),t(\"strong\",[s._v(\"总结表\")])]),s._v(\" \"),t(\"table\",[t(\"thead\",[t(\"tr\",[t(\"th\",{staticStyle:{\"text-align\":\"left\"}},[s._v(\"指令\")]),s._v(\" \"),t(\"th\",{staticStyle:{\"text-align\":\"left\"}},[s._v(\"后面能写什么\")]),s._v(\" \"),t(\"th\",{staticStyle:{\"text-align\":\"left\"}},[s._v(\"用途\")])])]),s._v(\" \"),t(\"tbody\",[t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"code\",[s._v(\"#ifdef\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"strong\",[s._v(\"单个宏名称\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[s._v(\"检查宏是否已定义\")])]),s._v(\" \"),t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"code\",[s._v(\"#ifndef\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"strong\",[s._v(\"单个宏名称\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[s._v(\"检查宏是否未定义\")])]),s._v(\" \"),t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"code\",[s._v(\"#if\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"strong\",[s._v(\"表达式\")]),s._v(\"（可包含defined()）\")]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[s._v(\"复杂条件判断\")])]),s._v(\" \"),t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"code\",[s._v(\"#elif\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"strong\",[s._v(\"表达式\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[s._v(\"else if 分支\")])]),s._v(\" \"),t(\"tr\",[t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"code\",[s._v(\"#else\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t(\"strong\",[s._v(\"什么都不写\")])]),s._v(\" \"),t(\"td\",{staticStyle:{\"text-align\":\"left\"}},[s._v(\"else 分支\")])])])]),s._v(\" \"),t(\"p\",[t(\"strong\",[s._v(\"简单规则\")]),s._v(\"：\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"只需要检查\"),t(\"strong\",[s._v(\"是否定义\")]),s._v(\" → 用 \"),t(\"code\",[s._v(\"#ifdef\")])]),s._v(\" \"),t(\"li\",[s._v(\"需要检查\"),t(\"strong\",[s._v(\"宏的值\")]),s._v(\"或\"),t(\"strong\",[s._v(\"组合条件\")]),s._v(\" → 用 \"),t(\"code\",[s._v(\"#if defined(...)\")])])]),s._v(\" \"),t(\"p\",[s._v(\"记住：\"),t(\"code\",[s._v(\"#ifdef\")]),s._v(\" 是 \"),t(\"code\",[s._v(\"#if defined()\")]),s._v(\" 的\"),t(\"strong\",[s._v(\"简化版\")]),s._v('，只能用于最简单的\"是否定义\"检查。')])])}),[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}