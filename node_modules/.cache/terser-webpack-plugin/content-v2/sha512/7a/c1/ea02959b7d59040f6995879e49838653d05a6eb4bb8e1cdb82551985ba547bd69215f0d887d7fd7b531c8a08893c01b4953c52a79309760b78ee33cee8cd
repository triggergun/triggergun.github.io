{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[437],{2268:function(t,v,_){\"use strict\";_.r(v);var a=_(18),s=Object(a.a)({},(function(){var t=this,v=t._self._c;return v(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[v(\"h1\",{attrs:{id:\"本章介绍3\"}},[v(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#本章介绍3\"}},[t._v(\"#\")]),t._v(\" 本章介绍3\")]),t._v(\" \"),v(\"h2\",{attrs:{id:\"shiro是什么\"}},[v(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#shiro是什么\"}},[t._v(\"#\")]),t._v(\" shiro是什么？\")]),t._v(\" \"),v(\"p\",[t._v(\"答：做：认证与授权的。\")]),t._v(\" \"),v(\"p\",[t._v(\"如：客户端发过来了请求，shiro拦截这个请求，判断下用户有没有登入。即使用户登入了，shiro还要进行判定这次请求访问的web方法。用户是否有相关的权限。\")]),t._v(\" \"),v(\"p\",[t._v(\"如果：具备相关权限的话，shiro放行这一次请求，权限不够的话，shiro就拦截这次请求。\")]),t._v(\" \"),v(\"p\",[t._v(\"::: 总结shiro框架的作用\")]),t._v(\" \"),v(\"ul\",[v(\"li\",[t._v(\"做认证\")]),t._v(\" \"),v(\"li\",[t._v(\"做授权\")])]),t._v(\" \"),v(\"p\",[t._v(\"shiro是使用http的session来保存用户登入的凭证的。\")]),t._v(\" \"),v(\"p\",[t._v(\":::\")]),t._v(\" \"),v(\"h2\",{attrs:{id:\"单体架构\"}},[v(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#单体架构\"}},[t._v(\"#\")]),t._v(\" 单体架构\")]),t._v(\" \"),v(\"p\",[t._v(\"后端项目是单体架构项目\")]),t._v(\" \"),v(\"p\",[t._v(\"shiro没有问题。\")]),t._v(\" \"),v(\"h2\",{attrs:{id:\"负载均衡单体架构\"}},[v(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#负载均衡单体架构\"}},[t._v(\"#\")]),t._v(\" 负载均衡单体架构\")]),t._v(\" \"),v(\"p\",[t._v(\"单独使用shiro框架是有问题的。\")]),t._v(\" \"),v(\"p\",[t._v(\"如：用户登入时候，\")]),t._v(\" \"),v(\"ol\",[v(\"li\",[t._v(\"发送过来的请求被负载的tomcatA上。\")]),t._v(\" \"),v(\"li\",[t._v(\"用户登入成功后，tomcatA上面就保存了这个登入的凭证。http的session方式存储的。\")])]),t._v(\" \"),v(\"p\",[t._v(\"用户的下一个请求：负载的tomcatB上。tomcatB没有我们的登入的凭证。\")]),t._v(\" \"),v(\"p\",[t._v(\"所以：tomcatB判定用户没有登入。\")]),t._v(\" \"),v(\"ul\",[v(\"li\",[t._v(\"负载均衡引发的凭证失效的问题？\")])]),t._v(\" \"),v(\"p\",[t._v(\"解决：java项目使用JWT技术。\")]),t._v(\" \"),v(\"h2\",{attrs:{id:\"jwt是什么\"}},[v(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jwt是什么\"}},[t._v(\"#\")]),t._v(\" JWT是什么？\")]),t._v(\" \"),v(\"p\",[t._v(\"原来登入的凭证是在服务器端保存的，现在jwt把登入的凭证加密，令牌字符串的方式\")]),t._v(\" \"),v(\"p\",[t._v(\"保存正客户端上。客户端每次发送请求的时候都要在请求上面带上令牌字符串。发送给后端的java项目。\")]),t._v(\" \"),v(\"ul\",[v(\"li\",[t._v(\"java项目验证是否有效\")]),t._v(\" \"),v(\"li\",[t._v(\"无论你发那个tomcatA或B服务器，只要验证令牌是否有效就放行。\")])]),t._v(\" \"),v(\"h2\",{attrs:{id:\"jwt好处\"}},[v(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jwt好处\"}},[t._v(\"#\")]),t._v(\" JWT好处\")]),t._v(\" \"),v(\"ul\",[v(\"li\",[t._v(\"兼容更多的客户端、处理浏览器之外、小程序、物联网设备斗是客户端使用。\")])])])}),[],!1,null,null,null);v.default=s.exports}}]);","extractedComments":[]}