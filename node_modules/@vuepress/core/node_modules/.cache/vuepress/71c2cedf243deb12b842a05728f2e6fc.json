{"remainingRequest":"/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/babel-loader/lib/index.js??ref--3-1!/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/vue-loader/lib/index.js??ref--1-1!/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/@vuepress/markdown-loader/index.js??ref--1-2!/home/runner/work/triggergun.github.io/triggergun.github.io/docs/java/system_design/api/demo01_2026_02_16_01.md?vue&type=template&id=73d86932","dependencies":[{"path":"/home/runner/work/triggergun.github.io/triggergun.github.io/docs/java/system_design/api/demo01_2026_02_16_01.md","mtime":1771224252204},{"path":"/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/runner/work/triggergun.github.io/triggergun.github.io/node_modules/@vuepress/markdown-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHsKICB2YXIgX3ZtID0gdGhpcywKICAgIF9jID0gX3ZtLl9zZWxmLl9jOwogIHJldHVybiBfYygnQ29udGVudFNsb3RzRGlzdHJpYnV0b3InLCB7CiAgICBhdHRyczogewogICAgICAic2xvdC1rZXkiOiBfdm0uJHBhcmVudC5zbG90S2V5CiAgICB9CiAgfSwgW19jKCdoMScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICLlrp7pmYXlvIDlj5Hov4fnqIvkuK0t5oCO5LmI6Ziy5q2i5o6l5Y+j6YeN5aSN5o+Q5LqkIgogICAgfQogIH0sIFtfYygnYScsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICIj5a6e6ZmF5byA5Y+R6L+H56iL5LitLeaAjuS5iOmYsuatouaOpeWPo+mHjeWkjeaPkOS6pCIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5a6e6ZmF5byA5Y+R6L+H56iL5Lit77yM5oCO5LmI6Ziy5q2i5o6l5Y+j6YeN5aSN5o+Q5Lqk77yfIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi6L+Z5Liq6Zeu6aKY5raJ5Y+K55qE55+l6K+G54K56Z2e5bi455qE5bm/44CC6Kej5Yaz55qE5pa55qGI5pyJ6K645aSa44CC5LiL6Z2i57uZ5Ye65LqG6YC76L6R5LiK6K+055qE6L+H5Y6755qE5pa55qGI44CC57y65LmP5a6e5oiY44CC6YO95piv5YGc55WZ5Zyo55CG6K665LiK44CCIildKSwgX3ZtLl92KCIgIiksIF9jKCdoMicsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICLmtonlj4rnmoTpl67popgiCiAgICB9CiAgfSwgW19jKCdhJywgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiPmtonlj4rnmoTpl67popgiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOa2ieWPiueahOmXrumimCIpXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIuavlOWmgueUqOaIt+mHjeWkjeeCueWHu+S4quaMiemSru+8jOWvvOiHtOmHjeWkjeiuouWNleWIm+W7uuaIluiAhemHjeWkjeaJo+i0ueOAgiIpXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIuaguOW/g+aYr+iAg+Wvn+aOpeWPo+eahOW5guetieaAp+iuvuiuoeOAguKAlOKAlOaJgOiwk+W5guetieaAp++8jOWwseaYr+iuqeS4gOS4quaOpeWPo+eahOWkmuasoeiwg+eUqOWvueaVsOaNruWPquS6p+eUn+S4gOasoeW9seWTjeOAgiIpXSksIF92bS5fdigiICIpLCBfYygnaDInLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAi55CG6K665LiK55qE6Kej5Yaz5pa55qGIIgogICAgfQogIH0sIFtfYygnYScsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICIj55CG6K665LiK55qE6Kej5Yaz5pa55qGIIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiDnkIborrrkuIrnmoTop6PlhrPmlrnmoYgiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCLmnInkuInnp43mlrnmoYjjgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCLnrKzkuIDkuKrvvIzkvaDlj6/ku6XliKnnlKjmlbDmja7lupPnmoTllK/kuIDntKLlvJXvvIzkuIDml6bph43lpI3liJvlu7rnm7jlkIzmlbDmja7vvIzlsLHlj6/ku6Xop6blj5HntKLlvJXnmoTlhrLnqoHlvILluLjjgILov5nnp43pgILlkIjliJvlu7rnsbvnmoTlnLrmma/jgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCLnrKzkuozkuKrvvIzkvaDlj6/ku6UiKSwgX2MoJ2ZvbnQnLCB7CiAgICBhdHRyczogewogICAgICAiY29sb3IiOiAicmVkIgogICAgfQogIH0sIFtfdm0uX3YoIuWfuuS6jiBSZWRpcyDmnaXlrp7njrAiKV0pLCBfdm0uX3YoIuOAgueUqOaIt+eahOivt+axguWIsOi+vuS7peWQju+8jOS9oOeUqOS4muWKoeagh+W/l+WKoOS4iueUqOaItyBJRCDmnaXnlJ/miJDkuIDkuKrllK/kuIDnmoQga2V544CC6YCa6L+HIFNFVE5YIOWRveS7pOadpeWOu+WwneivleiOt+W+l+mUge+8jCIpLCBfYygnZm9udCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJjb2xvciI6ICJyZWQiCiAgICB9CiAgfSwgW192bS5fdigi6I635b6X6ZSB5oiQ5YqfIildKSwgX3ZtLl92KCLlsLHmiafooYzkuJrliqHpgLvovpHjgIIiKV0sIDEpLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCLlgYflpoLvvJrnlKjkuJrliqHmoIflv5fmmK91c2Vy77yM55So5oi3aWTkuLrvvJoxLuWIme+8mnVzZXI6MeWwseaYr3JlZGlz55qEa2V544CCIildKSwgX3ZtLl92KCIgIiksIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogImxhbmd1YWdlLXNoZWxsIGxpbmUtbnVtYmVycy1tb2RlIgogIH0sIFtfYygncHJlJywgewogICAgcHJlOiB0cnVlLAogICAgYXR0cnM6IHsKICAgICAgImNsYXNzIjogImxhbmd1YWdlLXNoZWxsIgogICAgfQogIH0sIFtfYygnY29kZScsIFtfdm0uX3YoInVzZXI6MVxuIildKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAibGluZS1udW1iZXJzLXdyYXBwZXIiCiAgfSwgW19jKCdzcGFuJywgewogICAgc3RhdGljQ2xhc3M6ICJsaW5lLW51bWJlciIKICB9LCBbX3ZtLl92KCIxIildKSwgX2MoJ2JyJyldKV0pLCBfYygncCcsIFtfdm0uX3YoInJlZGlz55qEU0VUTljlkb3ku6TkvZznlKjmmK/ku4DkuYjvvJ8iKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCLnrKzkuInkuKrvvIzkvaDlj6/ku6XliY3nq6/ljrvmkLrluKbkuIDkuKrllK/kuIDnmoRJRO+8jOWQjuerr+aOpeaUtuWIsOS7peWQjuWRou+8jOWOu+WFiOafpee8k+WtmOaIluiAheaVsOaNruW6k++8jOWIpOaWrei/meS4qiBJRCDmmK/kuI3mmK/lt7Lnu4/lpITnkIbov4fkuobjgILlpoLmnpzlt7Lnu4/lpITnkIbkuobvvIzlsLHnm7TmjqXov5Tlm57nu5PmnpzvvIzkuI3ph43lpI3miafooYzjgIIiKV0pXSk7Cn07CnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXTsKZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfTs="},{"version":3,"names":["render","_vm","_c","_self","attrs","$parent","slotKey","staticClass","_v","pre","staticRenderFns"],"sources":["/home/runner/work/triggergun.github.io/triggergun.github.io/docs/java/system_design/api/demo01_2026_02_16_01.md"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"实际开发过程中-怎么防止接口重复提交\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#实际开发过程中-怎么防止接口重复提交\"}},[_vm._v(\"#\")]),_vm._v(\" 实际开发过程中，怎么防止接口重复提交？\")]),_vm._v(\" \"),_c('p',[_vm._v(\"这个问题涉及的知识点非常的广。解决的方案有许多。下面给出了逻辑上说的过去的方案。缺乏实战。都是停留在理论上。\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"涉及的问题\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#涉及的问题\"}},[_vm._v(\"#\")]),_vm._v(\" 涉及的问题\")]),_vm._v(\" \"),_c('p',[_vm._v(\"比如用户重复点击个按钮，导致重复订单创建或者重复扣费。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"核心是考察接口的幂等性设计。——所谓幂等性，就是让一个接口的多次调用对数据只产生一次影响。\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"理论上的解决方案\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#理论上的解决方案\"}},[_vm._v(\"#\")]),_vm._v(\" 理论上的解决方案\")]),_vm._v(\" \"),_c('p',[_vm._v(\"有三种方案。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"第一个，你可以利用数据库的唯一索引，一旦重复创建相同数据，就可以触发索引的冲突异常。这种适合创建类的场景。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"第二个，你可以\"),_c('font',{attrs:{\"color\":\"red\"}},[_vm._v(\"基于 Redis 来实现\")]),_vm._v(\"。用户的请求到达以后，你用业务标志加上用户 ID 来生成一个唯一的 key。通过 SETNX 命令来去尝试获得锁，\"),_c('font',{attrs:{\"color\":\"red\"}},[_vm._v(\"获得锁成功\")]),_vm._v(\"就执行业务逻辑。\")],1),_vm._v(\" \"),_c('p',[_vm._v(\"假如：用业务标志是user，用户id为：1.则：user:1就是redis的key。\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-shell line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-shell\"}},[_c('code',[_vm._v(\"user:1\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br')])]),_c('p',[_vm._v(\"redis的SETNX命令作用是什么？\")]),_vm._v(\" \"),_c('p',[_vm._v(\"第三个，你可以前端去携带一个唯一的ID，后端接收到以后呢，去先查缓存或者数据库，判断这个 ID 是不是已经处理过了。如果已经处理了，就直接返回结果，不重复执行。\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"mappings":"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","ignoreList":[]}]}