(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{1697:function(t,e,s){t.exports=s.p+"assets/img/image-20250409210845726.0216d834.png"},2054:function(t,e,s){"use strict";s.r(e);var l=s(17),a=Object(l.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"rust的linux程序编译"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rust的linux程序编译"}},[t._v("#")]),t._v(" rust的linux程序编译")]),t._v(" "),e("h2",{attrs:{id:"musl与glibc-的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#musl与glibc-的区别"}},[t._v("#")]),t._v(" musl与glibc 的区别")]),t._v(" "),e("ul",[e("li",[t._v("Rust 默认安装的是 "),e("code",[t._v("glibc")]),t._v(" 版本的工具链")]),t._v(" "),e("li",[t._v("当你指定 "),e("code",[t._v("musl")]),t._v(" 目标时，需要单独安装对应的标准库")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("特性")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("musl")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("glibc")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("链接方式")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("静态链接")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("动态链接")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("体积")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("较大")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("较小")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("兼容性")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("跨Linux发行版（如Alpine）")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("依赖特定glibc版本")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("常用场景")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("容器部署/跨平台分发")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("本地开发/同系统部署")])])])]),t._v(" "),e("p",[e("strong",[t._v("装musl目标工具链")])]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("rustup target "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" x86_64-unknown-linux-musl\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("验证安装")])]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("rustup target list "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" musl\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:s(1697),alt:"image-20250409210845726"}})]),t._v(" "),e("p",[e("strong",[t._v("重新编译")])]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cargo")]),t._v(" build "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--target")]),t._v(" x86_64-unknown-linux-musl\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])])}),[],!1,null,null,null);e.default=a.exports}}]);