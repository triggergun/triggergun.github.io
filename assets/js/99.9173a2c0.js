(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{1988:function(s,a,t){"use strict";t.r(a);var e=t(18),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"接入聊天主界面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接入聊天主界面"}},[s._v("#")]),s._v(" 接入聊天主界面")]),s._v(" "),a("h2",{attrs:{id:"遇到的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#遇到的问题"}},[s._v("#")]),s._v(" 遇到的问题")]),s._v(" "),a("p",[s._v("如何安全的接入这个聊天主页面？")]),s._v(" "),a("ol",[a("li",[s._v("用户登入的时候调用登入的api（user/login）获取到id和token。")]),s._v(" "),a("li",[s._v("前端获取到含有id与token的json串。前端进行拼接url。")]),s._v(" "),a("li",[s._v("前端拼接的url（/chat/index.shtml?id=1&token=123）")]),s._v(" "),a("li",[s._v("通过 localtion.href 进行跳转操作。")])]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("如何添加或显示好友？")]),s._v(" "),a("p",[s._v("答：如用户10 添加好友11，往contact表中添加两条记录。userId、dstid")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/contact/addfriend\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("第一条：owerid = 10，dstobj = 11")]),s._v(" "),a("p",[s._v("第二条：owerid = 11，dstobj = 10")]),s._v(" "),a("p",[s._v("显示全部的好友查接口。接口的参数：userId")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/contact/loadfriend\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("p",[s._v("如何添加或显示群？")]),s._v(" "),a("h2",{attrs:{id:"dev1-0的测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dev1-0的测试"}},[s._v("#")]),s._v(" dev1.0的测试")]),s._v(" "),a("ul",[a("li",[s._v("注册用户的接口：http://localhost/user/register")])]),s._v(" "),a("p",[s._v("请求模式：post")]),s._v(" "),a("p",[s._v("接口参数：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mobile=19970694323\n&\npasswd=123456\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("测试成功日志")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('$ curl http://localhost/user/register -X POST -d "mobile=19970694323&passwd=123456"\n{"code":0,"msg":"","data":{"id":1,"mobile":"19970694323","avatar":"","sex":"U","nickname":"user1068855420","online":0,"token":"966964953","memo":"","createat":"2025-03-24T15:05:10.6316503+08:00"}}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("参看数据是否有数据。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(846),alt:"image-20250324150725799"}})]),s._v(" "),a("ul",[a("li",[s._v("用户登入接口测试。接口：")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(847),alt:"image-20250324150848061"}})]),s._v(" "),a("p",[s._v("输入手机号与密码。登入成功跳转到首页。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(848),alt:"image-20250324150954444"}})]),s._v(" "),a("p",[s._v("注意跳转之后的页面变化。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(849),alt:"image-20250324151022000"}})]),s._v(" "),a("p",[s._v("注意：数据库里面要添加一个新的用户。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(850),alt:"image-20250324152406739"}})])])}),[],!1,null,null,null);a.default=r.exports},846:function(s,a,t){s.exports=t.p+"assets/img/image-20250324150725799.97c762d3.png"},847:function(s,a,t){s.exports=t.p+"assets/img/image-20250324150848061.743ec319.png"},848:function(s,a,t){s.exports=t.p+"assets/img/image-20250324150954444.eab99826.png"},849:function(s,a,t){s.exports=t.p+"assets/img/image-20250324151022000.5e528009.png"},850:function(s,a,t){s.exports=t.p+"assets/img/image-20250324152406739.ac80ecd3.png"}}]);