(window.webpackJsonp=window.webpackJsonp||[]).push([[449],{2296:function(t,a,s){"use strict";s.r(a);var e=s(18),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"pnpm是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm是什么"}},[t._v("#")]),t._v(" pnpm是什么？")]),t._v(" "),a("p",[a("strong",[t._v("PNPM")]),t._v("（全称："),a("strong",[t._v("Performant NPM")]),t._v("）是一个高效的 "),a("strong",[t._v("Node.js 包管理工具")]),t._v("，旨在解决 npm 和 Yarn 在依赖管理中的一些痛点（如磁盘空间占用和安装速度问题）。以下是它的核心特点和优势：")]),t._v(" "),a("h2",{attrs:{id:"_1-核心原理-硬链接-符号链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-核心原理-硬链接-符号链接"}},[t._v("#")]),t._v(" 1. 核心原理：硬链接 + 符号链接")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("硬链接（Hard Links）")]),t._v("：所有项目的依赖都会从全局存储（"),a("code",[t._v("~/.pnpm-store")]),t._v("）"),a("strong",[t._v("硬链接")]),t._v("到项目的 "),a("code",[t._v("node_modules")]),t._v("，避免重复下载相同的包，显著节省磁盘空间。")]),t._v(" "),a("li",[a("strong",[t._v("符号链接（Symbolic Links）")]),t._v("：依赖按实际依赖关系嵌套组织，但通过符号链接保持扁平化访问，避免幽灵依赖（Phantom Dependencies）问题。")])]),t._v(" "),a("h2",{attrs:{id:"_2-主要优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-主要优势"}},[t._v("#")]),t._v(" 2. 主要优势")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("极快的安装速度")]),t._v("：比 npm/Yarn 快 2-3 倍（尤其是冷安装）。")]),t._v(" "),a("li",[a("strong",[t._v("节省磁盘空间")]),t._v("：所有项目共享同一份依赖的物理存储。")]),t._v(" "),a("li",[a("strong",[t._v("严格的依赖结构")]),t._v("："),a("code",[t._v("node_modules")]),t._v(" 中只有显式声明的依赖可访问，避免隐式依赖问题。")]),t._v(" "),a("li",[a("strong",[t._v("兼容性")]),t._v("：完全支持 "),a("code",[t._v("package.json")]),t._v(" 和 npm 的生态（包括 workspaces）。")])]),t._v(" "),a("h2",{attrs:{id:"_3-与-npm-yarn-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-与-npm-yarn-的区别"}},[t._v("#")]),t._v(" 3. 与 npm/Yarn 的区别")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("特性")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("PNPM")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("npm / Yarn")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("安装速度")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("快（硬链接复用）")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("较慢（复制文件）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("磁盘占用")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("共享存储，占用极少")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每个项目独立占用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("node_modules")]),t._v(" 结构")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("嵌套 + 符号链接")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("扁平化（可能导致问题）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("安全性")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("严格隔离依赖")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("可能存在幽灵依赖")])])])]),t._v(" "),a("h2",{attrs:{id:"_4-常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用命令"}},[t._v("#")]),t._v(" 4. 常用命令")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 安装依赖\npnpm install\n\n# 添加依赖\npnpm add <package>\n\n# 运行脚本\npnpm run <script>\n\n# 全局存储管理\npnpm store prune  # 清理未使用的包\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"_5-适用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-适用场景"}},[t._v("#")]),t._v(" 5. 适用场景")]),t._v(" "),a("ul",[a("li",[t._v("需要优化多项目的磁盘空间占用。")]),t._v(" "),a("li",[t._v("追求更快的依赖安装速度。")]),t._v(" "),a("li",[t._v("希望避免扁平化 "),a("code",[t._v("node_modules")]),t._v(" 带来的隐式依赖问题。")])]),t._v(" "),a("h2",{attrs:{id:"_6-注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-注意事项"}},[t._v("#")]),t._v(" 6. 注意事项")]),t._v(" "),a("ul",[a("li",[t._v("某些极端场景下（如对 "),a("code",[t._v("node_modules")]),t._v(" 结构强依赖的工具链），可能需要测试兼容性。")]),t._v(" "),a("li",[t._v("全局存储路径可通过 "),a("code",[t._v("pnpm config set store-dir <path>")]),t._v(" 自定义。")])]),t._v(" "),a("p",[t._v("PNPM 已成为许多大型项目（如 Vue、Vite 等）的推荐工具，适合现代前端或 Node.js 开发。")])])}),[],!1,null,null,null);a.default=n.exports}}]);