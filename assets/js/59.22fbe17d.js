(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1279:function(a,s,e){a.exports=e.p+"assets/img/image-20240516205357147.da6c03ca.png"},1280:function(a,s,e){a.exports=e.p+"assets/img/image-20240517205111043.584bb8f6.png"},1281:function(a,s,e){a.exports=e.p+"assets/img/image-20240517205250324.adb87d77.png"},1282:function(a,s,e){a.exports=e.p+"assets/img/image-20240517205753678.3ef446a0.png"},1283:function(a,s,e){a.exports=e.p+"assets/img/image-20240517211300579.0105affd.png"},1284:function(a,s,e){a.exports=e.p+"assets/img/image-20240517211517805.8cf0fcc0.png"},1285:function(a,s,e){a.exports=e.p+"assets/img/image-20240517211729277.a024356b.png"},1286:function(a,s,e){a.exports=e.p+"assets/img/image-20240517212035208.2d088146.png"},1287:function(a,s,e){a.exports=e.p+"assets/img/image-20240517213135846.4cb17609.png"},2237:function(a,s,e){"use strict";e.r(s);var t=e(18),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"hello-cargo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hello-cargo"}},[a._v("#")]),a._v(" Hello Cargo")]),a._v(" "),s("h2",{attrs:{id:"学习目标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#学习目标"}},[a._v("#")]),a._v(" 学习目标")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("使用Cargo 的惯例来创建和运行一个新项目。")])]),a._v(" "),s("li",[s("p",[a._v("什么是Cargo？")])])]),a._v(" "),s("p",[a._v("Cargo  是 Rust  的构建系统和包管理器。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(1279),alt:"image-20240516205357147"}})]),a._v(" "),s("h2",{attrs:{id:"依赖dependency"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖dependency"}},[a._v("#")]),a._v(" 依赖dependency")]),a._v(" "),s("p",[a._v("⼤多数 Rustacean  们使⽤ Cargo  来管理他 们的 Rust  项⽬，因为它可以为你处理很多任务，⽐如构建代码、下载依赖库，以及 编译这些库。（我们把代码所需要的库叫做 依赖（ dependency ））。")]),a._v(" "),s("h2",{attrs:{id:"使用cargo创建项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用cargo创建项目"}},[a._v("#")]),a._v(" 使用Cargo创建项目")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cargo")]),a._v(" new hello_cargo\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" hello_cargo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[s("img",{attrs:{src:e(1280),alt:"image-20240517205111043"}})]),a._v(" "),s("p",[a._v("::: ditails 翻译")]),a._v(" "),s("p",[a._v("note: see more "),s("code",[a._v("Cargo.toml")]),a._v(" keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html")]),a._v(" "),s("p",[a._v("注意：更多“Cargo.toml”键及其定义，请访问https://doc.rust-lang.org/cargo/reference/manifest.html")]),a._v(" "),s("p",[a._v(":::")]),a._v(" "),s("p",[s("img",{attrs:{src:e(1281),alt:"image-20240517205250324"}})]),a._v(" "),s("ul",[s("li",[a._v("运行第一行命令，生成git文件。")])]),a._v(" "),s("p",[a._v("第一行命令新建了名为 hello_cargo 的目录。我们将项目命名为 hello_cargo，同时Cargo 在一个同名目录中创建项目文件。")]),a._v(" "),s("p",[a._v("进入 he/lo_cargo 目录并列出文件。将会看到Cargo 生成了两个文件和一个目录：个Cargo.tom/文件，一个src目录，以及位于src目录中的 main.rs 文件。")]),a._v(" "),s("p",[a._v("它也在 he/lo_cargo 目录初始化了一个 Git 仓库，并带有一个.gitignore 文件。如果在")]),a._v(" "),s("ul",[s("li",[a._v("不生成Git文件。")])]),a._v(" "),s("p",[a._v("如果在现有的 Git  仓库中运行 ，则不会⽣成 Git 文件；")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cargo")]),a._v(" new 项目的名字\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[a._v("帮助")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cargo new --help\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[a._v("使用编辑器。")])]),a._v(" "),s("p",[a._v("使⽤你喜欢的⽂本编辑器打开 Cargo.toml  ⽂件。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(1282),alt:"image-20240517205753678"}})]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("package"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nname "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"hello_cargo"')]),a._v("\nversion "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0.1.0"')]),a._v("\nedition "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2021"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("dependencies"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("table",[s("thead",[s("tr",[s("th",[a._v("代码块")]),a._v(" "),s("th",[a._v("描述")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("[package]")]),a._v(" "),s("td",[a._v("表明下⾯的语句⽤来配置⼀个 包（ package ）。随着我们在这个⽂件增加更多的信息，还将增加其他表块。")])]),a._v(" "),s("tr",[s("td",[a._v('name = "hello_cargo"')]),a._v(" "),s("td",[a._v("配置⼀个 包（ package ）")])]),a._v(" "),s("tr",[s("td",[a._v('version = "0.1.0"')]),a._v(" "),s("td",[a._v("版本号")])]),a._v(" "),s("tr",[s("td",[a._v('edition = "2021"')]),a._v(" "),s("td",[a._v("edition ，区别于 version。Rust 的核⼼版本，即 2015 、 2018 、 2021  版等）  的值。")])]),a._v(" "),s("tr",[s("td",[a._v("[dependencies]")]),a._v(" "),s("td",[a._v("是⼀个表块的开头，你可以在其中列出你的项⽬所依赖 的任何包。")])])])]),a._v(" "),s("ul",[s("li",[a._v("代码包是什么？")])]),a._v(" "),s("p",[a._v("在 Rust  中，代码包被称为 crate 。这个项⽬并不需要其他的 crate。")]),a._v(" "),s("ul",[s("li",[a._v("怎么些一个项目依赖？")])]),a._v(" "),s("p",[s("img",{attrs:{src:e(1283),alt:"image-20240517211300579"}})]),a._v(" "),s("h2",{attrs:{id:"构建并运行cargo项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建并运行cargo项目"}},[a._v("#")]),a._v(" 构建并运行Cargo项目")]),a._v(" "),s("p",[a._v("在 hello_cargo  ⽬录下，输⼊下⾯的命令来构建项⽬：")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cargo")]),a._v(" build\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("C:\\Users\\32802\\projects\\hello_cargo>cargo build\n   Compiling hello_cargo v0.1.0 (C:\\Users\\32802\\projects\\hello_cargo)\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 1.66s\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[s("img",{attrs:{src:e(1284),alt:"image-20240517211517805"}})]),a._v(" "),s("ul",[s("li",[a._v("执行命令的结果。")])]),a._v(" "),s("p",[s("img",{attrs:{src:e(1285),alt:"image-20240517211729277"}})]),a._v(" "),s("p",[a._v("这个命令会在 target/debug/hello_cargo  下创建⼀个可执⾏⽂件（在 Windows  上是 target\\debug\\hello_cargo.exe ），⽽不是放在⽬前⽬录下。")]),a._v(" "),s("ul",[s("li",[a._v("使用命令执行它。")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("./target/debug/hello_cargo\n# windows上执行代码\n.\\target\\debug\\hello_cargo.exe\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[s("img",{attrs:{src:e(1286),alt:"image-20240517212035208"}})]),a._v(" "),s("h2",{attrs:{id:"运行与编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行与编译"}},[a._v("#")]),a._v(" 运行与编译")]),a._v(" "),s("p",[a._v("我们刚刚使⽤ cargo build  构建了项⽬，并使⽤ ./target/debug/hello_cargo  运 ⾏了程序，但是，我们也可以使⽤ cargo run  命令，⼀次性完成代码编译和运⾏的 操作：")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cargo")]),a._v(" run \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:e(1287),alt:"image-20240517213135846"}})]),a._v(" "),s("h2",{attrs:{id:"检察代码命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检察代码命令"}},[a._v("#")]),a._v(" 检察代码命令")]),a._v(" "),s("p",[a._v("该命令快速检查代码确保其可以编 译，但并不产⽣可执行文件：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(" cargo check\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"发布构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布构建"}},[a._v("#")]),a._v(" 发布构建")]),a._v(" "),s("p",[a._v("当项目最终准备好发布时，可以使用 cargo build --release 来优化编译项目。这会在 target/release 而不是 target/debug 下生成可执行文件。这些优化可以让 Rust代码运行的更快，不过启用这些优化也需要消耗更长的编译时间。这也就是为什么会有两种不同的配置:一种是为了开发，你需要经常快速重新构建;另一种是为用户构建最终程序，它们不会经常重新构建，并且希望程序运行得越快越好。如果你要对代码运行时间进行基准测试，请确保运行 cargo build --release 并使用target/release 下的可执行文件进行测试。")]),a._v(" "),s("h2",{attrs:{id:"把使用cargo当作习惯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#把使用cargo当作习惯"}},[a._v("#")]),a._v(" 把使用Cargo当作习惯")]),a._v(" "),s("p",[a._v("尽管 hello_cargo 项目很简单，其所使用的很多实用工具，在你将来的 Rust 生涯中也会用得到。")])])}),[],!1,null,null,null);s.default=r.exports}}]);